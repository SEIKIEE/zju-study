4道计算题 30分

实验：源代码的理解：文件的控制块 磁盘分配方法 进程控制块 操作命令（内核的编译过程）

10-20分



第二章

系统调用

系统调用传递参数的三种方法：寄存器、堆栈、内存

文件控制块/文件管理等等方面那些部分是系统调用。哪些部分不是系统调用。



第三章

进程的状态之间的迁移，什么样的情况下会做一些迁移。

include/liux 核心的数据结构 主要的字段代表的含义

 PCB进程控制块定义、属性、信息 task_struct里面的那些

进程调度上下文切换要做什么事情，save 一些state，具体的含义，新的进程的状态要切换进来。切换过程中主要的成本。

进程创建过程 fork的调用方法，fork的返回值。zijingcheng和fujincheng之间共享了什么，什么是不一样的饿。进程终止，什么时候会终止？。子和父的终止顺序。



第四章

线程相关：线程概念、特点、和进程的区别。定义和本身独有的特点。进程和线程共享什么，独立什么？轻量体现在哪里？

线程的实现，用户级线程（。。。）。多线程模型的组合方式：多对一、一对多、多对多。



第五章

调度

会有很多计算题。

CPU调度/==处理器调度/\==进程调度 调度的概念，可能会有很多的说法。进程之间怎么样切换会好

进程的算法 fcfs 等等 会计算 多级反馈队列调度 多级队列调度 甘特图画法 不同指标的计算 awt 平均turn around time



第六章

同步互斥

进程之间的相互关系，进程之间有共享一些东西——同步的机制。

临界区：6.2 the critical-section problem 临界区问题

解决临界区问题要解决的几个方面：互斥、空闲让进、。。

重点要掌握信号量。一个变量两个操作。wait signal

重要前提：在信号量pv操作里面，要保证信号量的原子性。

忙等待、轮询

wait signal操作要求：成对出现、操作顺序、

信号量可以做到互斥，2值信号量。

信号量产生的副作用--死锁？

对怎么写代码、怎么读别人写的代码要掌握



第七章

死锁

死锁的产生：四个必要条件（互斥、hold and wait、、）

死锁处理的策略（预防、避免、检测、解除）

预防、避免 负担很重 课本中有很多描述

检测、解除



进程相关

---

内存相关



第八章

存储

逻辑地址空间-》逻辑内存

真实的物理内存：实际数据是放在这里。

连续分配：怎么把物理的内存空间分配给进程。两大类分配：固定分区、动态分区。会有一些不好的结果：internal fragmentaion、external fragmentaion

对于外部碎片的处理：压缩，拼接

**分页**：物理内存分配成固定大小的块frame，不一定是连续的编号。逻辑内存分配成同样大小的块page，0，1，2，3连续的编号。frame和page的对应关系是page table。

分页机制的模型

怎么做映射关系、地址转换、会计算。一个page多大，里面有多少位拿来做page num，去page table拿frame number，和offset拼起来。

TLB 很重要。 TLB是一个快速访问的硬件，做一个page num和frame num的对应关系，TLB里面是并行查找。

EAT 怎么算

page table：保护位、有效位、共享page （里面的数据结构）

两级分页 多级页表机制 

空间能扩展到多少、内存访问次数

**分段**：段表里面会有哪些相关的值，有效位，权限，怎么操作的（看到一个段号怎么找地址）



第九章

虚拟内存

大前提：局部性原理：时间局部性、空间局部性

物理内存和磁盘之间有一个换入换出的能力：

非常重要：**按需调页** 从disk掉入到memory

按需调页几种方法：1. 连续的磁盘空间调用，把连续一大块调用进来（此时page table的作用，valid位 page table相关的数据结构）

**page** **fault**产生的可能性：1. 非法的地址访问 2. Just not in memory

缺页的解决方法：ppt9.16 一个流程

怎么计算他的performance

**页面置换** 因为内存满了，要从frame里面找一个换出去

LRU second chance optimal fifo等 置换算法 的各种指标，体现在计算中



---

文件系统



第十章

（疑似无）

肯定有一些实验的命令 第0个实验的命令



第十一章

ppt11.14 文件系统中要去维护的数据结构

整个磁盘的分配方法 很重要 连续分配 链接分配 索引分配 分别是怎么做的

连续分配的缺点：难扩展，因为移动成本很高 ppt11.28

链接分配 每一个数据块的最后一部分都有指向下一个数据块的指针（链接） 变种：FAT

索引分配 index 比较重要 index表里index项 独立出来的index表去维护，没有分配到的用-1表示，文件扩展可以用起来。       链式索引 二级索引 三级索引        混合型（很重要，直接索引+二级索引+三级索引。     ppt11.45 ）Linux ext2/ext3 有道题



第十二章

disk scheduling ppt12.21 fcfs scan look c-scan c-look

磁盘启动块的作用，在rom里面什么作用，在。。里面什么作用。启动过程。

不同种类的read的定义，0 1 2



第十三章

I/O几种方式：轮询，轮询下面有几种情况 ppt13.11

忙等

中断 很重要的一块内容



DMA：流程 ppt12.18



---

四十个选择题，1.5分一个；

填空题，一共10分，可能会数值计算或者填waiting状态这样的，可以用中文，最好用英文，可能有四五个的样子；

三个题目，写一个同步算法（比以前简单），进程调度。

Linux内核比往年少，这块放弃可以有80分。

三张A4。可打印，可复印。